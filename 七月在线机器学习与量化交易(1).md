#机器学习与量化交易系列课程（一）



## 听课时的一些疑问

撮合竞价的规则？？？

CS231N慕课视频：

http://www.mooc.ai/course/268/lesson/list



##为什么要自己搭建平台？

​	网上已经有平台了：quantopian和优矿

​	搭平台需要团队合作，但是需要知道团队的其他人需要干什么

​	需要自己从零写一个系统，才能有信心调用对API,高效地使用别人的平台；

​	网络的云平台计算力和数据不够

##课程的重点

课程的侧重点：编程知识；金融知识；机器学习	



机器学习在时间序列分析上的应用

策略建模及其优化算法

策略评价与回测

风险管理

（大家都能用量化平台，但是怎样用一个好的策略，怎样用一个科学的方法做回测是大家不知道的 ）

量化找工作时有两种情况：**纯码农，重写数学函数库，交易下单要快；或者是量化研究，需要做实验来验证策略**

对于散户而言：也有必要了解量化

量化交易的好处：提高了货币的流动性

需要建立一个寻找资源的品味，知道什么是好的自学资源



##算法交易综述

​	利用自动化平台，执行预先设置的一系列规则完成交易行为。

​	量化交易属于算法交易的一部分。

####**算法交易的优势**

​	1、历史数据评估，模型是基于数据驱动的；

​	2、执行高效；

​	3、无主观情绪输入，不凭感觉；

​	4、**可度量评价，策略的可评估**；!!!

​	5、交易频率；

#### **算法交易的劣势**

​	1、成本，执行一个算法交易的成本就比较高，5000块肯定太少了；

​	2、技巧：数学和编程；

#### **算法交易流程**

大前提：基于某种平台；

比如用优矿，计算出结果，然后手动下单，这也是被允许的。

​	1、提出假设；

​	2、建立模型；

​	3、回测验证；

​	4、执行交易

#### **交易策略的来源**

（看见别人的策略以后要学会在自己的平台上验证）

1、市场微观结构研究；limit order books,市场的微观结构上的短尺度的价格预测，一般指高频交易，数据噪声很大。股票的price有limit（不高于某某价格）和market（市场价）两种，order book（买一买二买三买四） 来自交易所，记录了市场深度，基于大量的历史的limit order book 来预测下几秒的price(往上还是往下) 。

2、基金结构套利：大型基金的交易模式有一些是固定的，当我们知道别人的行为模式时，就可以加以利用，进行套利。

3、机器学期/人工智能

目标是找到，适合金融数据处理的，常见的算法

​	机器学习：输入->  函数（模型）->输出

​	训练过程：历史数据 -> 学习算法 -> 模型

​	机器学习的四个基本流派：

连接主义（连接，加权，神经网络）；

符号主义（条件，if else...，决策树，可解释性）；

频率主义；

贝叶斯流派；

​	机器学习在金融领域只是一个强大的模型，但不会一统天下，因为在金融领域，人们很知道如何表示金融数据；

​	机器学习三步走：数据--->模型&目标函数--->优化方法（寻找函数的极值）

##### 机器学习在交易里的应用

​	limit order book modeling:高频或者次高频交易，要求的功底很深，数据噪声很大，怎么处理

​	price-based classification models：基于价格数据的分类模型，分类是涨跌，或者是买卖。

​	Text-based classification models：基于文本，新闻，评论，来进行舆情分析，选股，目前很多券商都在尝试。文本数据来源，质量是个问题，错误信息太多，但是做风控还是可以的，爬取一些官方的文件，可以提前预测出股灾来。

​	reinforcement learning：强化学习，自己训练一个系统，在历史数据上不断训练，最终学习出一个合理的策略。



几个关键点

​	好的模型和训练算法；

​	硬件（GPU/CPU）;

​	高质量的数据，垃圾进垃圾出；

​	平台（keras/tensorflow/sklearn）：不要总是尝试重写一些算法，重复造轮子；



深度学习的“深”是什么意思

CNN 可以应用到空间数据中，x1,x2,x3在空间上有关系

LSTM可以应用到时间数据中，x1,x2在时间有先后性

强化学习：有一个环境（ENV）,还有一个agent, 有一个policy库供选择, 最终学到一个能得到最大回报（reward）的策略

![1](Photo\1.JPG)

​	CS231N上有课程

​	可以尝试用强化学习训练一个策略，进行股票的买卖；

自然语言处理

word2vec:把文本变成一个向量，一个编码器，国内是哈工大做得最好的



关键问题是

如何定义一个合适的输入

​	特征工程；

​	特征选择；

我们可以利用特征工程选取很多特征，但是如何从很多特征中选取合适的特征或者特征组合是一个问题（特征选择）



## 交易策略的评估

1、策略基本假设：模型的思想

2、夏普率

3、杠杆

4、频率

5、风险

6、W/L

7、模型复杂度（可以类比于参数的数目）

8、最大亏损

9、benchmarking

这部分是最不用关心的事，因为这只是一些简单的公式



## 科学的回测十分重要

不要依赖优矿等平台的回测，这里有太多的细节需要讨论。

策略筛选，策略优化，策略验证

错误的回测方法

​	乐观主义偏差（special look back region）：选择一个特定的时间段

​	时间旅行（程序bug，train/val/test set）

​	幸存者误差（选择股灾中存活的股票，训练出来的模型泛化能力会很差）





## 工具和语言

pandas

sklearn

and more













